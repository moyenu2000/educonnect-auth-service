{
	"info": {
		"name": "Discussion Service API Tests",
		"description": "Comprehensive API tests for EduConnect Discussion Service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{jwt_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8082",
			"type": "string"
		},
		{
			"key": "jwt_token",
			"value": "YOUR_JWT_TOKEN_HERE",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Discussions",
			"item": [
				{
					"name": "Get All Discussions (Public)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/public?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["discussions", "public"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Get Discussions (Authenticated)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["discussions"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Get Discussions with Filters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions?page=0&size=10&type=QUESTION&sortBy=NEWEST",
							"host": ["{{base_url}}"],
							"path": ["discussions"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "type", "value": "QUESTION"},
								{"key": "sortBy", "value": "NEWEST"}
							]
						}
					}
				},
				{
					"name": "Create Discussion",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Test Discussion\",\n    \"content\": \"This is a test discussion content\",\n    \"type\": \"QUESTION\",\n    \"subjectId\": 1,\n    \"topicId\": 1,\n    \"classLevel\": \"INTERMEDIATE\",\n    \"tags\": [\"test\", \"api\"],\n    \"isAnonymous\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/discussions",
							"host": ["{{base_url}}"],
							"path": ["discussions"]
						}
					}
				},
				{
					"name": "Get Specific Discussion (Public)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/1/public",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1", "public"]
						}
					}
				},
				{
					"name": "Get Specific Discussion",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/1",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1"]
						}
					}
				},
				{
					"name": "Update Discussion",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Test Discussion\",\n    \"content\": \"This is updated content\",\n    \"type\": \"QUESTION\",\n    \"subjectId\": 1,\n    \"topicId\": 1,\n    \"classLevel\": \"INTERMEDIATE\",\n    \"tags\": [\"updated\", \"test\"],\n    \"isAnonymous\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/discussions/1",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1"]
						}
					}
				},
				{
					"name": "Upvote Discussion",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/1/upvote",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1", "upvote"]
						}
					}
				},
				{
					"name": "Downvote Discussion",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/1/downvote",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1", "downvote"]
						}
					}
				},
				{
					"name": "Bookmark Discussion",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/1/bookmark",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1", "bookmark"]
						}
					}
				},
				{
					"name": "Delete Discussion",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/discussions/1",
							"host": ["{{base_url}}"],
							"path": ["discussions", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Answers",
			"item": [
				{
					"name": "Get Answers for Discussion",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/discussions/1/answers?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "discussions", "1", "answers"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Create Answer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"This is a test answer\",\n    \"attachments\": [\"file1.pdf\"],\n    \"isAnonymous\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/discussions/1/answers",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "discussions", "1", "answers"]
						}
					}
				},
				{
					"name": "Update Answer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"This is an updated answer\",\n    \"attachments\": [\"file2.pdf\"],\n    \"isAnonymous\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/answers/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "answers", "1"]
						}
					}
				},
				{
					"name": "Upvote Answer",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/answers/1/upvote",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "answers", "1", "upvote"]
						}
					}
				},
				{
					"name": "Downvote Answer",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/answers/1/downvote",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "answers", "1", "downvote"]
						}
					}
				},
				{
					"name": "Accept Answer",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/answers/1/accept",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "answers", "1", "accept"]
						}
					}
				},
				{
					"name": "Delete Answer",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/answers/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "answers", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Groups",
			"item": [
				{
					"name": "Get All Groups",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["groups"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Get Groups with Filters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups?page=0&size=10&type=STUDY&joined=false",
							"host": ["{{base_url}}"],
							"path": ["groups"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "type", "value": "STUDY"},
								{"key": "joined", "value": "false"}
							]
						}
					}
				},
				{
					"name": "Create Group",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Test Study Group\",\n    \"description\": \"This is a test study group\",\n    \"type\": \"STUDY\",\n    \"subjectId\": 1,\n    \"classLevel\": \"INTERMEDIATE\",\n    \"isPrivate\": false,\n    \"rules\": \"Be respectful and helpful\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/groups",
							"host": ["{{base_url}}"],
							"path": ["groups"]
						}
					}
				},
				{
					"name": "Get Specific Group",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups/1",
							"host": ["{{base_url}}"],
							"path": ["groups", "1"]
						}
					}
				},
				{
					"name": "Update Group",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Study Group\",\n    \"description\": \"Updated description\",\n    \"type\": \"STUDY\",\n    \"subjectId\": 1,\n    \"classLevel\": \"INTERMEDIATE\",\n    \"isPrivate\": false,\n    \"rules\": \"Updated rules\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/groups/1",
							"host": ["{{base_url}}"],
							"path": ["groups", "1"]
						}
					}
				},
				{
					"name": "Join Group",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups/1/join",
							"host": ["{{base_url}}"],
							"path": ["groups", "1", "join"]
						}
					}
				},
				{
					"name": "Get Group Members",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups/1/members?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["groups", "1", "members"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Change Member Role",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"role\": \"MODERATOR\"}"
						},
						"url": {
							"raw": "{{base_url}}/groups/1/members/2/role",
							"host": ["{{base_url}}"],
							"path": ["groups", "1", "members", "2", "role"]
						}
					}
				},
				{
					"name": "Remove Group Member",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups/1/members/2",
							"host": ["{{base_url}}"],
							"path": ["groups", "1", "members", "2"]
						}
					}
				},
				{
					"name": "Get Group Discussions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/groups/1/discussions?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["groups", "1", "discussions"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Create Group Discussion",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Group Discussion\",\n    \"content\": \"This is a group discussion\",\n    \"type\": \"QUESTION\",\n    \"subjectId\": 1,\n    \"topicId\": 1,\n    \"classLevel\": \"INTERMEDIATE\",\n    \"tags\": [\"group\", \"test\"],\n    \"isAnonymous\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/groups/1/discussions",
							"host": ["{{base_url}}"],
							"path": ["groups", "1", "discussions"]
						}
					}
				}
			]
		},
		{
			"name": "Messages",
			"item": [
				{
					"name": "Get Conversations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/conversations?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["messages", "conversations"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Get Conversation Messages",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/conversations/1?page=0&size=20",
							"host": ["{{base_url}}"],
							"path": ["messages", "conversations", "1"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "20"}
							]
						}
					}
				},
				{
					"name": "Send Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipientId\": 2,\n    \"content\": \"Test message\",\n    \"type\": \"TEXT\",\n    \"attachments\": [\"file1.pdf\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/messages",
							"host": ["{{base_url}}"],
							"path": ["messages"]
						}
					}
				},
				{
					"name": "Update Message",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"content\": \"Updated message content\"}"
						},
						"url": {
							"raw": "{{base_url}}/messages/1",
							"host": ["{{base_url}}"],
							"path": ["messages", "1"]
						}
					}
				},
				{
					"name": "Delete Message",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/1",
							"host": ["{{base_url}}"],
							"path": ["messages", "1"]
						}
					}
				},
				{
					"name": "Mark Message as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/1/read",
							"host": ["{{base_url}}"],
							"path": ["messages", "1", "read"]
						}
					}
				},
				{
					"name": "Get Unread Message Count",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/messages/unread-count",
							"host": ["{{base_url}}"],
							"path": ["messages", "unread-count"]
						}
					}
				}
			]
		},
		{
			"name": "AI",
			"item": [
				{
					"name": "Ask AI",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"question\": \"What is photosynthesis?\",\n    \"subjectId\": 1,\n    \"topicId\": 1,\n    \"context\": \"Biology lesson\",\n    \"type\": \"CONCEPT\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/ai/ask",
							"host": ["{{base_url}}"],
							"path": ["ai", "ask"]
						}
					}
				},
				{
					"name": "Get AI History",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/ai/history?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["ai", "history"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Get AI History with Subject Filter",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/ai/history?page=0&size=10&subjectId=1",
							"host": ["{{base_url}}"],
							"path": ["ai", "history"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "subjectId", "value": "1"}
							]
						}
					}
				}
			]
		},
		{
			"name": "Notifications",
			"item": [
				{
					"name": "Get Notifications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications?page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["notifications"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Get Unread Notifications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications?page=0&size=10&unread=true",
							"host": ["{{base_url}}"],
							"path": ["notifications"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "unread", "value": "true"}
							]
						}
					}
				},
				{
					"name": "Get Notifications by Type",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications?page=0&size=10&type=DISCUSSION_REPLY",
							"host": ["{{base_url}}"],
							"path": ["notifications"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "type", "value": "DISCUSSION_REPLY"}
							]
						}
					}
				},
				{
					"name": "Mark Notification as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/1/read",
							"host": ["{{base_url}}"],
							"path": ["notifications", "1", "read"]
						}
					}
				},
				{
					"name": "Mark All Notifications as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/read-all",
							"host": ["{{base_url}}"],
							"path": ["notifications", "read-all"]
						}
					}
				},
				{
					"name": "Get Unread Notification Count",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/notifications/unread-count",
							"host": ["{{base_url}}"],
							"path": ["notifications", "unread-count"]
						}
					}
				}
			]
		},
		{
			"name": "Search",
			"item": [
				{
					"name": "Search Discussions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/discussions?q=test&page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["search", "discussions"],
							"query": [
								{"key": "q", "value": "test"},
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Search Discussions with Filters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/discussions?q=test&page=0&size=10&type=QUESTION&sortBy=NEWEST",
							"host": ["{{base_url}}"],
							"path": ["search", "discussions"],
							"query": [
								{"key": "q", "value": "test"},
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "type", "value": "QUESTION"},
								{"key": "sortBy", "value": "NEWEST"}
							]
						}
					}
				},
				{
					"name": "Search Groups",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/groups?q=study&page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["search", "groups"],
							"query": [
								{"key": "q", "value": "study"},
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Search Groups with Type Filter",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/groups?q=study&page=0&size=10&type=STUDY",
							"host": ["{{base_url}}"],
							"path": ["search", "groups"],
							"query": [
								{"key": "q", "value": "study"},
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "type", "value": "STUDY"}
							]
						}
					}
				},
				{
					"name": "Search Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/search/users?q=john&page=0&size=10",
							"host": ["{{base_url}}"],
							"path": ["search", "users"],
							"query": [
								{"key": "q", "value": "john"},
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				}
			]
		}
	]
}